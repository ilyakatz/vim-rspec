#!/usr/bin/osascript

on run argv

  set command to argv

  tell application "Terminal"
    if (count of windows) is 0 then
      do script command
    else
      #if the window is busy open in a new tab
      if window 1 is busy then
        tell application "System Events" to keystroke "t" using {command down}
        delay 0.2
      end if
      do script command in window 1
    end if

    activate
  end tell

  tell application "MacVim"
    activate
  end tell

end run
